---
title: "Pixel-in-Pixel Net: Towards Efficient Facial Landmark Detection in the Wild"
alias: jinPixelinPixelNetEfficient2021
tags:
  - landmark
  - heatmap
  - regression
rating: â­â­â­
shared: true
ptype: article
draft: false
date: 2022-12-27
---


# Pixel-in-Pixel Net: Towards Efficient Facial Landmark Detection in the Wild
<cite>* Authors: [[Haibo Jin]], [[Shengcai Liao]], [[Ling Shao]]</cite>

* DOI: [10.1007/s11263-021-01521-4](https://doi.org/10.1007/s11263-021-01521-4)

* [Local library](zotero://select/items/1_84T2L4XC)

***

### åˆè¯»å°è±¡

comment:: PIPNet æå‡ºäº†ä¸€ç§ç²—ç²’åº¦heatmapä¹‹åç»†ç²’åº¦å›å½’çš„å…³é”®ç‚¹æ£€æµ‹ç®—æ³•ï¼Œç»“åˆäº† heatmapæ–¹æ³•é«˜ç²¾åº¦å’Œå›å½’æ–¹æ³•é«˜é€Ÿåº¦çš„ä¼˜ç‚¹ï¼Œåœ¨å¤šä¸ªbmkä¸Šå–å¾—äº†å¾ˆå¥½çš„æ•ˆæœã€‚

### æ–‡ç« éª¨æ¶
%%åˆ›æ–°ç‚¹åˆ°åº•æ˜¯ä»€ä¹ˆ?%%
novelty:: ç»“åˆäº† heatmap å’Œ regression çš„ä¼˜ç‚¹ï¼Œè¾¾åˆ°åˆå¿«åˆå¥½çš„å…³é”®ç‚¹æ£€æµ‹æ•ˆæœ

%%æœ‰ä»€ä¹ˆæ„ä¹‰ï¼Ÿ%%
significance:: ä¿è¯ heatmap ç±»æ–¹æ³•é«˜ç²¾åº¦çš„åŒæ—¶ä¿è¯äº†æ¨ç†é€Ÿåº¦ã€‚

%%æœ‰ä»€ä¹ˆæ½œåŠ›?%% 
potential:: 


### TL;DR 

å½“å‰ä¸»æµçš„ landmark æ£€æµ‹æ–¹æ³•ä¸»è¦æœ‰ä¸¤ç±»ï¼Œ ä¸€ç±»åŸºäº heatmap çš„ï¼Œå¦‚å›¾3(b) æ‰€ç¤ºï¼Œä¸€ç±»ç›´æ¥å›å½’åæ ‡ï¼Œå¦‚å›¾3(a)æ‰€ç¤ºã€‚ 
heatmap æ–¹æ³•ä¼˜ç‚¹æ˜¯å‡†ç¡®æ€§é«˜ï¼Œç¼ºç‚¹æ˜¯è®¡ç®—å¤æ‚åº¦é«˜ã€ç¼ºå°‘å…¨å±€çº¦æŸï¼ˆè¡¨ç°å¦‚è¢«é®æŒ¡åŒºåŸŸé¢„æµ‹ä¸å—æ§åˆ¶ï¼‰ï¼Œ è€Œç›´æ¥å›å½’åæ ‡çš„æ–¹æ³•è®¡ç®—å¤æ‚åº¦ä½ä¸”æœ‰æ¯”è¾ƒå¥½çš„å…¨å±€å½¢çŠ¶çº¦æŸï¼Œä½†æ˜¯ç²¾åº¦ç›¸å¯¹è¾ƒä½ã€‚

æœ¬æ–‡æå‡ºä¸€ç§åä¸º PIPNet çš„æ–¹æ³•ï¼Œ å¸Œæœ›ç»“åˆä¸¤ç±»æ–¹æ³•çš„ä¼˜ç‚¹ã€‚

### è®¡ç®—å¤æ‚åº¦é—®é¢˜

é¦–å…ˆï¼Œ ä¸ºäº†è§£å†³ heatmap æ–¹æ³•è®¡ç®—å¤æ‚åº¦é«˜çš„é—®é¢˜ï¼Œ PIPNet å–æ¶ˆäº†ä¸Šé‡‡æ ·è¿‡ç¨‹ï¼Œç›´æ¥åœ¨ä¸‹é‡‡æ ·åçš„ $N\times{W_I/s}\times{H_I/s}$ s ä¸º strideï¼ŒN ä¸ºlandmark æ•°ç›®, $W_I,H_I$ åˆ†åˆ«ä¸ºè¾“å…¥åˆ†è¾¨ç‡ï¼Œæ¯”å¦‚è¾“å…¥ 256x256 çš„æ•°æ®ï¼Œs = 32ï¼Œ é‚£ä¹ˆè·å¾—çš„ feature map å¤§å°ä¸º 8x8ï¼Œé€šè¿‡ feature map ä¸Šæœ€å¤§å€¼å®šä½å½“å‰å…³é”®ç‚¹çš„ç²—ç³™ä½ç½®ï¼Œæ˜¾ç„¶è¿™ä¸ªåˆ†è¾¨ç‡çš„ faeture map åªå¯¹åº” 64 ä¸ªä½ç½®æ˜¯ä¸è¶³ä»¥åº”å¯¹ landmark æ£€æµ‹ä»»åŠ¡çš„ï¼Œ ä¸ºæ­¤ï¼Œ ä½œè€…é¢å¤–å¢åŠ äº†ä¸€ä¸ª $2\times{N}$ çš„åˆ†æ”¯ offset é¢„æµ‹åˆ†æ”¯ï¼Œ è¿™ä¸ªåˆ†æ”¯çš„è¾“å‡ºæ˜¯ä»¥ç²—ç³™ä½ç½®æ‰€åœ¨çš„ grid çš„å·¦ä¸Šè§’ä¸ºåŸºå‡†çš„ç²¾ç»†ä½ç½®ã€‚å…·ä½“ç»“æ„å¦‚å›¾ 3(c) æ‰€ç¤ºï¼Œè€Œåæ ‡å½¢å¼çš„ gt æ˜ å°„åˆ°æ–°ç»“æ„çš„è¿‡ç¨‹å¦‚å›¾ 4 æ‰€ç¤ºã€‚

![](https://markdown-imagebed.oss-cn-beijing.aliyuncs.com/imgs20220213121548.png)

![](https://markdown-imagebed.oss-cn-beijing.aliyuncs.com/imgs20220213121612.png)


### å…¨å±€ä¿¡æ¯æ„ŸçŸ¥èƒ½åŠ›

å¦‚å›¾ 5 æ‰€ç¤ºï¼Œå½“äººè„¸è§’åº¦å¾ˆå¤§æ—¶ï¼ŒPIPNet å’Œ feature map é¢„æµ‹ä¸€æ ·ä¼šå­˜åœ¨å¾ˆå¤§çš„åå·®ã€‚è¿™æ˜¯å› ä¸ºåæ ‡å›å½’æ–¹æ³•è¾“å‡ºæ¥æºäº fcï¼Œ æ‰€æœ‰ç‚¹çš„feature èƒ½äº’ç›¸æ„ŸçŸ¥åˆ°ï¼Œ ä½†æ˜¯ PIPNet å„ä¸ªç‚¹æ˜¯ç›¸äº’ç‹¬ç«‹è·å–çš„ï¼Œç¼ºä¹è¿™æ ·çš„å…¨å±€ä¿¡æ¯ã€‚

![](https://markdown-imagebed.oss-cn-beijing.aliyuncs.com/imgs20220213165817.png)

ä¸ºäº†æå‡æ¨¡å‹çš„å…¨å±€æ„ŸçŸ¥èƒ½åŠ›ï¼Œåœ¨ä¸Šé¢æ¨¡å‹çš„åŸºç¡€ä¸Šï¼Œä½œè€…æå‡ºäº† neighbor regression module (NRM) æ¨¡å—ï¼Œåœ¨é¢„æµ‹æœ¬èº«çš„ offset ä»¥å¤–ï¼Œ è¿™ä¸ªåˆ†æ”¯è¿˜ä¼šé¢„æµ‹å½“å‰ç‚¹å‘¨å›´æœ€è¿‘çš„ C ä¸ªç‚¹çš„ offsetã€‚ neighbors.

### æ³›åŒ–èƒ½åŠ›é—®é¢˜

![](https://markdown-imagebed.oss-cn-beijing.aliyuncs.com/imgs20220213172012.png)

ä¸ºäº†æå‡æ¨¡å‹çš„æ³›åŒ–èƒ½åŠ›ï¼Œæå‡ºäº† self-training with curriculum (STC) è‡ªå­¦ä¹ æ¨¡å—ï¼Œ å’Œä¼ ç»Ÿè‡ªå­¦ä¹ ä¸€ç›´é’ˆå¯¹ä¸€ä¸ªä»»åŠ¡è¿›è¡Œä¸åŒï¼Œ STC ä¼šåŸºäºå¼‚æºæ•°æ®ä»éš¾åˆ°æ˜“çš„ä¸‰ä¸ªä»»åŠ¡å­¦ä¹ ã€‚å…·ä½“æ¥è¯´ä¸‰ä¸ªä»»åŠ¡ä¸åŒä¹‹å¤„æ˜¯ feature map å¯¹åº”çš„ stride ä¸åŒï¼Œ ä¹Ÿå°±æ˜¯å¯¹åº”çš„åˆ†è¾¨ç‡ä¸åŒï¼Œè¶Šå¤§çš„ stride å¯¹åº”çš„åˆ†è¾¨ç‡è¶Šä½ï¼Œ å­˜åœ¨çš„è´Ÿæ ·æœ¬æ•°é‡è¶Šå°‘ï¼Œä¹Ÿå³ä»»åŠ¡è¶Šç®€å•ã€‚ 

å…·ä½“æ­¥éª¤ï¼š
![](https://markdown-imagebed.oss-cn-beijing.aliyuncs.com/imgs/202203171103456.png)

1. ç”¨äººå·¥æ ‡æ³¨çš„å›¾ç‰‡è®­ç»ƒ  PIPNetï¼›
2. ç”¨ä¸Šä¸€æ­¥å¾—åˆ°çš„æ¨¡å‹ç”Ÿæˆæœªæ ‡æ³¨æ•°æ®çš„ä¼ªæ ‡ç­¾ï¼›
3. ä½¿ç”¨æ ‡æ³¨å’Œä¼ªæ ‡ç­¾ç”Ÿæˆæ–°çš„æ•°æ®é›†ï¼›
4. ç”¨äººå·¥æ•°æ®é›†è®­ç»ƒ task3ï¼Œ æ–°æ•°æ®é›†è®­ç»ƒ task 1- 2
é‡å¤ 2-4 æ­¥éª¤


### References

1. [10.1109/BTAS.2017.8272731](https://doi.org/10.1109/BTAS.2017.8272731)
2. [10.1145/1553374.1553380](https://doi.org/10.1145/1553374.1553380)
3. [10.1109/ICCV.2013.191](https://doi.org/10.1109/ICCV.2013.191)
4. [10.1109/CVPR42600.2020.00590](https://doi.org/10.1109/CVPR42600.2020.00590)
5. [10.1007/978-3-319-46454-1_8](https://doi.org/10.1007/978-3-319-46454-1_8)
6. [[@chenFaceAlignmentKernel2019]]
7. [10.1109/CVPR.2018.00352](https://doi.org/10.1109/CVPR.2018.00352)
8. [[@dapognyDeCaFADeepConvolutional2019]]
9. [10.1007/s11263-018-1134-y](https://doi.org/10.1007/s11263-018-1134-y)
10. [10.1109/CVPR42600.2020.00525](https://doi.org/10.1109/CVPR42600.2020.00525)
11. [10.1109/CVPR.2018.00110](https://doi.org/10.1109/CVPR.2018.00110)
12. [10.1109/ICCV.2019.00087](https://doi.org/10.1109/ICCV.2019.00087)
13. [10.1109/CVPR.2018.00047](https://doi.org/10.1109/CVPR.2018.00047)
14. [10.1109/CVPR.2017.392](https://doi.org/10.1109/CVPR.2017.392)
15. [[@fengWingLossRobust2018]]
16. This reference does not have DOI ğŸ˜µ
17. This reference does not have DOI ğŸ˜µ
18. [10.1109/CVPR.2014.306](https://doi.org/10.1109/CVPR.2014.306)
19. [10.1109/CVPRW.2017.255](https://doi.org/10.1109/CVPRW.2017.255)
20. [10.1109/CVPR.2016.619](https://doi.org/10.1109/CVPR.2016.619)
21. [10.1109/CVPR.2018.00167](https://doi.org/10.1109/CVPR.2018.00167)
22. [10.1109/ICCV.2019.00140](https://doi.org/10.1109/ICCV.2019.00140)
23. This reference does not have DOI ğŸ˜µ
24. [10.1109/CVPR.2019.00503](https://doi.org/10.1109/CVPR.2019.00503)
25. [10.1109/ICCV.2017.409](https://doi.org/10.1109/ICCV.2017.409)
26. This reference does not have DOI ğŸ˜µ
27. [10.1109/ICCVW.2011.6130513](https://doi.org/10.1109/ICCVW.2011.6130513)
28. [[@kumarLUVLiFaceAlignment2020]]
29. [10.1109/TPAMI.2012.191](https://doi.org/10.1109/TPAMI.2012.191)
30. [10.1109/TPAMI.2017.2734779](https://doi.org/10.1109/TPAMI.2017.2734779)
31. [10.1109/CVPR.2017.713](https://doi.org/10.1109/CVPR.2017.713)
32. [10.1109/ICCV.2015.425](https://doi.org/10.1109/ICCV.2015.425)
33. [10.1109/CVPR.2019.00358](https://doi.org/10.1109/CVPR.2019.00358)
34. This reference does not have DOI ğŸ˜µ
35. [10.1109/CVPR.2017.393](https://doi.org/10.1109/CVPR.2017.393)
36. [10.1109/CVPR.2018.00088](https://doi.org/10.1109/CVPR.2018.00088)
37. [10.1007/978-3-319-46484-8_29](https://doi.org/10.1007/978-3-319-46484-8_29)
38. [10.1109/CVPR.2017.395](https://doi.org/10.1109/CVPR.2017.395)
39. [10.1007/978-3-030-01264-9_17](https://doi.org/10.1007/978-3-030-01264-9_17)
40. [10.1109/CVPR.2016.146](https://doi.org/10.1109/CVPR.2016.146)
41. [10.1109/ICCV.2019.01025](https://doi.org/10.1109/ICCV.2019.01025)
42. [10.1109/TIP.2016.2518867](https://doi.org/10.1109/TIP.2016.2518867)
43. [10.1109/ICCV.2019.01020](https://doi.org/10.1109/ICCV.2019.01020)
44. [10.1007/978-3-319-24574-4_28](https://doi.org/10.1007/978-3-319-24574-4_28)
45. [10.1109/ICCVW.2013.59](https://doi.org/10.1109/ICCVW.2013.59)
46. [10.1109/CVPR.2019.00712](https://doi.org/10.1109/CVPR.2019.00712)
47. [10.1109/CVPR.2018.00474](https://doi.org/10.1109/CVPR.2018.00474)
48. [10.1109/ICCVW.2015.132](https://doi.org/10.1109/ICCVW.2015.132)
49. [10.1109/CVPR.2013.446](https://doi.org/10.1109/CVPR.2013.446)
50. [[@taiHighlyAccurateStable2019]]
51. [10.1109/CVPR.2014.220](https://doi.org/10.1109/CVPR.2014.220)
52. [10.1007/978-3-030-01219-9_21](https://doi.org/10.1007/978-3-030-01219-9_21)
53. [10.1109/CVPR.2016.262](https://doi.org/10.1109/CVPR.2016.262)
54. [10.1109/CVPR.2016.453](https://doi.org/10.1109/CVPR.2016.453)
55. [[@valleDeeplyInitializedCoarsetofineEnsemble2018]]
56. [10.1016/j.cviu.2019.102846](https://doi.org/10.1016/j.cviu.2019.102846)
57. This reference does not have DOI ğŸ˜µ
58. [10.1109/ICCV.2019.00707](https://doi.org/10.1109/ICCV.2019.00707)
59. [10.1109/CVPR.2016.511](https://doi.org/10.1109/CVPR.2016.511)
60. [10.1109/CVPRW.2017.261](https://doi.org/10.1109/CVPRW.2017.261)
61. [[@wuLookBoundaryBoundaryAware2018b]]
62. [10.1007/978-3-030-01231-1_29](https://doi.org/10.1007/978-3-030-01231-1_29)
63. [10.1109/CVPRW.2017.253](https://doi.org/10.1109/CVPRW.2017.253)
64. [10.1109/CVPR.2016.596](https://doi.org/10.1109/CVPR.2016.596)
65. [10.1109/ICCV.2017.113](https://doi.org/10.1109/ICCV.2017.113)
66. [10.1109/CVPR.2019.00225](https://doi.org/10.1109/CVPR.2019.00225)
67. [10.1109/CVPRW.2017.263](https://doi.org/10.1109/CVPRW.2017.263)
68. [10.1109/TPAMI.2015.2469286](https://doi.org/10.1109/TPAMI.2015.2469286)
69. [10.1007/978-3-030-58621-8_31](https://doi.org/10.1007/978-3-030-58621-8_31)
70. [10.1007/978-3-030-01261-8_11](https://doi.org/10.1007/978-3-030-01261-8_11)
71. [10.1109/CVPR.2019.00360](https://doi.org/10.1109/CVPR.2019.00360)
72. This reference does not have DOI ğŸ˜µ
73. [10.1109/CVPR.2016.371](https://doi.org/10.1109/CVPR.2016.371)
74. [10.1109/CVPR.2019.00078](https://doi.org/10.1109/CVPR.2019.00078)
75. [10.1109/ICCV.2019.00023](https://doi.org/10.1109/ICCV.2019.00023)

 Currently 7 references inside library! @2022-12-28